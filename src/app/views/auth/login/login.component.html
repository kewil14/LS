<form class="form-horizontal" [formGroup]="loginForm" (ngSubmit)="onSubmit()">

    <alert type="danger" *ngIf="error" [dismissible]="false">{{ error }}</alert>

    <div class="mb-3">
        <label class="form-label" for="username">{{'FORMS.USERNAME' | translate}}</label>
        <input type="text" class="form-control" id="username" formControlName="username"
          [ngClass]="{ 'is-invalid': isSubmitted && login['username'].errors }"
          placeholder="{{'FORMS.USERNAME' | translate}}">
        <div *ngIf="isSubmitted && login['username'].errors" class="invalid-feedback">
            <div *ngIf="login['username'].errors['required']">{{'MESSAGES.ERRORS.REQUIRED' | translate | titlecase }}</div>
            <div *ngIf="login['username'].errors['minlength']">{{'MESSAGES.ERRORS.SIZE-NIM' | translate | titlecase }} </div>
            <div *ngIf="login['username'].errors['maxlength']">{{'MESSAGES.ERRORS.SIZE-MAX' | translate | titlecase }}</div>
        </div>
    </div>

    <div class="mb-3">
      <label class="form-label" for="password-input">{{'FORMS.PASSWORD' | translate}}</label>
      <div class="input-group auth-pass-inputgroup">
          <input [type]="fieldTextType ? 'text' : 'password'" class="form-control"
            placeholder="{{'FORMS.PASSWORD' | translate}}" id="password-input" formControlName="password"
            [ngClass]="{ 'is-invalid': isSubmitted && login['password'].errors }" aria-label="Password"
            aria-describedby="password-addon">

        <button class="btn btn-light ms-0" type="button" id="password-addon">
            <i class="mdi align-middle" [ngClass]="{'mdi-eye-off-outline': !fieldTextType, 'mdi-eye-outline': fieldTextType }" (click)="toggleFieldTextType()"></i>
        </button>
        <div *ngIf="isSubmitted && login['password'].errors" class="invalid-feedback">
            <div *ngIf="login['password'].errors['required']">{{'MESSAGES.ERRORS.SIZE-NIM' | translate | titlecase }}</div>
            <div *ngIf="login['password'].errors['minlength']">{{'MESSAGES.ERRORS.SIZE-NIM' | translate | titlecase }}</div>
            <div *ngIf="login['password'].errors['maxlength']">{{'MESSAGES.ERRORS.SIZE-MAX' | translate | titlecase }}</div>
        </div>
      </div>
    </div>

    <div class="mt-3 d-grid">
      <button class="btn btn-primary" type="submit">{{'LABELS.LOGIN'|translate|titlecase}}</button>
    </div>
    <div class="mt-4 text-center">
      <a routerLink="{{AppLinks.LINK_AUTH_RESET_PASSWORD}}" class="text-muted"><i class="mdi mdi-lock mr-1"></i> {{'MESSAGES.AUTHENTIFICATION.FORGET-PASSWORD'|translate|titlecase}}</a>
    </div>
  </form>